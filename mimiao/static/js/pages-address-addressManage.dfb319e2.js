(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{"06e0":function(t,e,a){"use strict";a.r(e);var i=a("b2f2"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"16d7":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.post=e.get=e.LOCAL_SERVER=void 0;var n=i(a("795b")),s="http://app.smartinvoker.com";e.LOCAL_SERVER=s;var o=function(t,e,a){return new n.default(function(i,n){uni.request({url:s+t,data:e,method:a,success:function(t){10006===t.data.code?uni.showModal({title:"提示",content:"连接失败，请重新登录",confirmText:"去登录",cancelText:"随便看看",success:function(t){t.confirm&&uni.navigateTo({url:"/pages/public/login?backUrl=/pages/index/index"})}}):i(t)},fail:function(t){n(t)}})})},r=function(t,e){return o(t,e,"GET")};e.get=r;var d=function(t,e){return o(t,e,"POST")};e.post=d},"2aee":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("收货人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请填写收货人真实姓名","placeholder-class":"placeholder"},model:{value:t.addressDataInfo.consignee,callback:function(e){t.$set(t.addressDataInfo,"consignee",e)},expression:"addressDataInfo.consignee"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("手机号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请填写您的手机号","placeholder-class":"placeholder"},model:{value:t.addressDataInfo.mobile,callback:function(e){t.$set(t.addressDataInfo,"mobile",e)},expression:"addressDataInfo.mobile"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("选择地区")]),a("v-uni-text",{staticClass:"input",on:{click:function(e){e=t.$handleEvent(e),t.choose(e)}}},[t._v(t._s(t.addressDataInfo.area_info))])],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("详细地址")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入详细地址","placeholder-class":"placeholder"},model:{value:t.addressDataInfo.address,callback:function(e){t.$set(t.addressDataInfo,"address",e)},expression:"addressDataInfo.address"}})],1),a("v-uni-view",{staticClass:"row default-row"},[a("v-uni-text",{staticClass:"tit"},[t._v("设为默认地址")]),a("v-uni-switch",{attrs:{checked:0!==t.addressDataInfo.is_default,color:"#ffa70a"},on:{change:function(e){e=t.$handleEvent(e),t.switchChange(e)}}})],1),"edit"===t.manageType?a("v-uni-view",{staticClass:"delete-address",on:{click:function(e){e=t.$handleEvent(e),t.delAddress()}}},[t._v("删除收货地址")]):t._e(),a("v-uni-button",{staticClass:"add-btn",on:{click:function(e){e=t.$handleEvent(e),t.confirm(e)}}},[t._v("确定")]),t.show?a("distpicker",{attrs:{userInfo:t.userInfo},on:{onChangeProvince1:function(e){e=t.$handleEvent(e),t.onChangeProvince1(e)},onChangeCity:function(e){e=t.$handleEvent(e),t.onChangeCity(e)},onChangeArea:function(e){e=t.$handleEvent(e),t.onChangeArea(e)},close:function(e){e=t.$handleEvent(e),t.countermand(e)}}}):t._e()],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"2ef5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAddress=n,e.getAddr=s,e.addAddress=o,e.updateDefaultAddress=r,e.delAddress=d;var i=a("16d7");function n(t){return(0,i.get)("/aosuite/api/app/v1/getUserAddress.jhtml",t)}function s(t){return(0,i.get)("/aosuite/notokenapi/app/v1/getAddr.jhtml",t)}function o(t){return(0,i.get)("/aosuite/api/app/v1/saveAddress.jhtml",t)}function r(t){return(0,i.get)("/aosuite/api/app/v1/updateDefaultAddress.jhtml",t)}function d(t){return(0,i.get)("/aosuite/api/app/v1/delAddress.jhtml",t)}},"4a8c":function(t,e,a){var i=a("5dc3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("d951a280",i,!0,{sourceMap:!1,shadowMode:!1})},"5dc3":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.color51[data-v-1a11a26a]{color:#333}.size22[data-v-1a11a26a]{font-size:%?22?%}.clamp-set[data-v-1a11a26a]{white-space:normal!important;display:-webkit-box;-webkit-box-orient:vertical!important;-webkit-line-clamp:2!important;overflow:hidden}.common-flex[data-v-1a11a26a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}uni-page-body[data-v-1a11a26a]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-1a11a26a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;height:%?89?%;background:#fff}.row .tit[data-v-1a11a26a]{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?150?%;font-size:%?28?%;color:#333;padding-left:%?20?%}.row .input[data-v-1a11a26a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?26?%;color:#999;text-align:right;padding-right:%?20?%}.row .icon-shouhuodizhi[data-v-1a11a26a]{font-size:%?36?%;color:#909399;padding-right:%?20?%}.default-row[data-v-1a11a26a]{margin-top:%?16?%}.default-row .tit[data-v-1a11a26a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.default-row uni-switch[data-v-1a11a26a]{-webkit-transform:translateX(%?16?%) scale(.9);-ms-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.delete-address[data-v-1a11a26a]{margin-top:%?40?%;font-size:%?28?%;color:#fb4c3a;text-align:center}.add-btn[data-v-1a11a26a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#000;background:-webkit-gradient(linear,left top,right bottom,from(#ffcc58),to(#ffa200));background:-o-linear-gradient(top left,#ffcc58,#ffa200);background:linear-gradient(to bottom right,#ffcc58,#ffa200);border-radius:%?34?%;-webkit-box-shadow:1px 2px 5px rgba(219,63,96,.4);box-shadow:1px 2px 5px rgba(219,63,96,.4);position:fixed;bottom:%?40?%;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}body.?%PAGE?%[data-v-1a11a26a]{background:#f8f8f8}',""])},"5fb2":function(t,e,a){"use strict";var i=a("da2b"),n=a.n(i);n.a},"78f6":function(t,e,a){"use strict";var i=a("4a8c"),n=a.n(i);n.a},"885d":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("cebc")),s=a("2f62"),o=a("2ef5"),r=i(a("eecf")),d={data:function(){return{addressDataInfo:{consignee:"",mobile:"",area_info:"请选择地区",address:"",is_default:0},manageType:"",show:!1,userInfo:null,province:null,city:null,district:null}},components:{distpicker:r.default},computed:(0,n.default)({},(0,s.mapState)(["addressData"])),onLoad:function(t){var e="新增收货地址";"edit"===t.type&&(e="编辑收货地址",this.addressDataInfo=JSON.parse(t.data)),console.log(this.addressDataInfo),this.editIsDefault=this.addressDataInfo.is_default,this.manageType=t.type,uni.setNavigationBarTitle({title:e}),this.userInfo=uni.getStorageSync("userInfo"),console.log(this.userInfo),this.getAddr()},onShow:function(){},methods:(0,n.default)({},(0,s.mapMutations)(["setAddressData"]),{switchChange:function(t){this.editIsDefault=t.detail},getAddr:function(){var t=this;(0,o.getAddr)({parent_id:"0",token:t.userInfo.token}).then(function(t){console.log(t)})},confirm:function(){var t=this.addressDataInfo;if(t.consignee)if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.mobile))if(t.address){if("edit"===this.manageType){if(!t.province||!t.city||!t.district)return void this.$api.msg("请选择选择地区")}else if(!this.province||!this.city||!this.district)return void this.$api.msg("请选择选择地区");if(t.address){var e={token:this.userInfo.token,address_id:t.address_id||"",consignee:t.consignee,mobile:t.mobile,province:t.province||this.province.id,city:t.city||this.city.id,district:t.district||this.district.id,town:"",address:t.address,precisions:"",dimension:""};console.log(e);var a="edit"===this.manageType?"修改":"添加",i=this;(0,o.addAddress)(e).then(function(t){1===t.data.code?i.editIsDefault!==i.addressDataInfo.is_default?i.updateDefaultAddress(i.addressDataInfo.address_id):(uni.showToast({title:a+"成功",duration:2e3}),uni.navigateBack()):uni.showToast({title:t.data.msg})})}else this.$api.msg("请填写现象地址")}else this.$api.msg("请在地图选择所在位置");else this.$api.msg("请输入正确的手机号码");else this.$api.msg("请填写收货人姓名")},updateDefaultAddress:function(t){var e="edit"===this.manageType?"修改":"添加";(0,o.updateDefaultAddress)({token:this.userInfo.token,address_id:t}).then(function(t){console.log(t),1===t.data.code?(uni.showToast({title:e+"成功",duration:2e3}),uni.navigateBack()):uni.showToast({title:t.data.msg})})},delAddress:function(){var t=this,e=this.addressDataInfo.address_id,a=this.userInfo.token;console.log(t.addressData),uni.showModal({title:"提示",content:"确认删除此地址？",success:function(i){i.confirm&&(0,o.delAddress)({address_id:e,token:a}).then(function(a){uni.showToast({title:a.data.msg,icon:"none",duration:2e3}),1===a.data.code&&(t.addressData&&t.addressData.address_id===e&&t.setAddressData({}),uni.navigateBack())})}})},countermand:function(){this.show=!1},choose:function(){this.addressList=[],this.show=!0},onChangeProvince1:function(t){this.province=t,console.log(this.province)},onChangeCity:function(t){this.city=t,console.log(this.city)},onChangeArea:function(t){this.district=t,this.addressDataInfo.area_info=this.province.value+this.city.value+this.district.value,console.log(this.district),console.log(t.id),this.show=!1}})};e.default=d},a09a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"distpicker-address-wrapper"},[a("v-uni-view",{staticClass:"mask",on:{click:function(e){e=t.$handleEvent(e),t.close(e)}}}),a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"address-header"},[a("ul",[a("li",{staticClass:"active",on:{click:function(e){e.preventDefault(),e.stopPropagation(),e=t.$handleEvent(e),t.transProvince(e)}}},[t._v(t._s(t.province))]),a("li",{class:""!==t.city?"active":"",on:{click:function(e){e.preventDefault(),e.stopPropagation(),e=t.$handleEvent(e),t.transCity(e)}}},[t._v(t._s(t.city))]),a("li",{class:""!==t.area?"active":""},[t._v(t._s(t.area))])])]),a("v-uni-view",{staticClass:"address-container"},[t.showData.length>0?a("ul",t._l(t.showData,function(e){return a("li",{key:e.value,on:{click:function(a){a.preventDefault(),a.stopPropagation(),a=t.$handleEvent(a),t.getData(e.value,e.display)}}},[t._v(t._s(e.display))])}),0):t._e()])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},b081:function(t,e,a){"use strict";a.r(e);var i=a("2aee"),n=a("ca4b7");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("78f6");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"1a11a26a",null);e["default"]=r.exports},b2f2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a("de11");var i=a("2ef5"),n={name:"distpicker",props:{isShow:{type:Boolean,default:!1},userInfo:{type:Object,default:null}},data:function(){return{provinceArr:[],cityArr:[],areaArr:[],showData:[],province:"省",city:"",area:"",tag:0}},mounted:function(){uni.showLoading({title:"正在加载..."}),this.getProvinceList()},methods:{transProvince:function(){this.showData=this.provinceArr,this.tag=0,this.city="",this.area=""},transCity:function(){this.showData=this.cityArr,this.tag=1,this.area=""},getData:function(t,e){uni.showLoading({title:"正在加载..."}),0===this.tag?(this.province=e,this.onChangeProvince1({id:t,value:e}),this.getCityArr(t)):1===this.tag?(this.city=e,this.onChangeCity({id:t,value:e}),this.getAreaArr(t)):2===this.tag&&(this.area=e,this.onChangeArea({id:t,value:e})),uni.hideLoading()},getProvinceList:function(){var t=this;(0,i.getAddr)({parent_id:"0",token:t.userInfo.token}).then(function(e){console.log(e),uni.hideLoading(),1===e.data.code&&(t.provinceArr=e.data.data,t.showData=e.data.data)})},getCityArr:function(t){var e=this;(0,i.getAddr)({parent_id:t,token:e.userInfo.token}).then(function(t){console.log(t),uni.hideLoading(),1===t.data.code&&(e.cityArr=t.data.data,e.showData=t.data.data,e.tag=1)})},getAreaArr:function(t){var e=this;(0,i.getAddr)({parent_id:t,token:e.userInfo.token}).then(function(t){console.log(t),uni.hideLoading(),1===t.data.code&&(e.areaArr=t.data.data,e.showData=t.data.data,console.log(e.showData),e.tag=2)})},onChangeProvince1:function(t){console.log(t),this.$emit("onChangeProvince1",t)},onChangeCity:function(t){console.log(t),this.$emit("onChangeCity",t)},onChangeArea:function(t){console.log(t),this.$emit("onChangeArea",t)},close:function(){this.$emit("close")}}};e.default=n},ca4b7:function(t,e,a){"use strict";a.r(e);var i=a("885d"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},cdf6:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.color51[data-v-6f5daf33]{color:#333}.size22[data-v-6f5daf33]{font-size:%?22?%}.clamp-set[data-v-6f5daf33]{white-space:normal!important;display:-webkit-box;-webkit-box-orient:vertical!important;-webkit-line-clamp:2!important;overflow:hidden}.common-flex[data-v-6f5daf33]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}ul[data-v-6f5daf33]{list-style:none;padding:0;margin:0}.distpicker-address-wrapper[data-v-6f5daf33]{position:fixed;top:0;width:100%;height:100%;color:#999;z-index:1002;font-size:%?30?%}.mask[data-v-6f5daf33]{width:100%;height:100%;background-color:rgba(0,0,0,.8)}.main[data-v-6f5daf33]{position:absolute;bottom:0;width:100%}.distpicker-address-wrapper .address-header[data-v-6f5daf33]{background-color:#fff}.distpicker-address-wrapper ul[data-v-6f5daf33]{margin:0;padding:0}.distpicker-address-wrapper .address-header ul[data-v-6f5daf33]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}.distpicker-address-wrapper .address-header ul li[data-v-6f5daf33]{padding:8px %?30?%;color:#000}.distpicker-address-wrapper .address-header .active[data-v-6f5daf33]{border-bottom:#ffcc58 solid 3px;color:#ffcc58}.distpicker-address-wrapper .address-container[data-v-6f5daf33]{background-color:#fff}.distpicker-address-wrapper .address-container[data-v-6f5daf33]{max-height:%?680?%;overflow:scroll}.distpicker-address-wrapper .address-container ul[data-v-6f5daf33]{height:100%;overflow:auto}.distpicker-address-wrapper .address-container ul li[data-v-6f5daf33]{padding:8px 10px;border-top:1px solid #f6f6f6}',""])},da2b:function(t,e,a){var i=a("cdf6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("e6505cc8",i,!0,{sourceMap:!1,shadowMode:!1})},de11:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.queryProvince=n,e.queryCity=s,e.queryArea=o;var i=a("16d7");function n(t){return(0,i.get)("/aosuite/notokenapi/app/v1/queryProvince.jhtml",t)}function s(t){return(0,i.get)("/aosuite/notokenapi/app/v1/queryCity.jhtml",t)}function o(t){return(0,i.get)("/aosuite/notokenapi/app/v1/queryArea.jhtml",t)}},eecf:function(t,e,a){"use strict";a.r(e);var i=a("a09a"),n=a("06e0");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("5fb2");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"6f5daf33",null);e["default"]=r.exports}}]);