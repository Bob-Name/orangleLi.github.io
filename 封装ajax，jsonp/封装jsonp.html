<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>封装jsonp</title>
</head>
<body>
	<script src="./jquery.min.js"></script>
	<script src="./jsonp.js"></script>
	<script>
		
		let url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'
		const data = {
		    channel: 'singer',
		    page: 'list',
		    key: 'all_all_all',
		    pagesize: 100,
		    pagenum: 1,
		    hostUin: 0,
		    needNewCode: 0,
		    platform: 'yqq',
		    g_tk: 1661029744,
		    g_tk: 5381,
			inCharset: 'utf-8',
			outCharset: 'utf-8',
			notice: 0,
			format: 'jsonp',
		}
		JSONP(url, data, function(res) {
			console.log(res.data);
		})
		// jquery中jsonp方式访问
		// $.ajax({
		// 	url: url,
		// 	type: "GET",
		// 	data: data,
		// 	dataType: 'jsonp',
		// 	jsonp: "jsonpCallback",
		// 	success: function(res) {
		// 		console.log(res.data);
		// 	}
		// })


		const url1 = "https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg"
		const data1 = {
		    platform: 'h5',
		    uin: 0,
		    needNewCode: 1
		}
		JSONP(url1, data1, function(res) {
			console.log(res.data);
		})

		const url2 = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'
		const data2 = {
		    hostUin: 0,
		    needNewCode: 0,
		    platform: 'yqq',
		    order:'listen',
		    begin: 0,
		    num: 50,
		    songstatus: 1,
		    g_tk: 1661029744,
		    singermid: '0025NhlN2yWrP4'
		}
		JSONP(url2, data2, function(res) {
			console.log(res.data);
		})
	</script>
</body>
</html>